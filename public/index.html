<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Hostel - Smart Room Allocation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Auth Pages -->
        <div id="authPages">
            <!-- Login Page -->
            <div id="loginPage" class="page active">
                <div class="auth-container">
                    <div class="auth-wrapper">
                        <div class="auth-left">
                            <div class="brand-section">
                                <div class="brand-icon"><i class="fas fa-building"></i></div>
                                <h1>Elite Hostel</h1>
                                <p>Smart Room Allocation System</p>
                            </div>
                            <div class="features-list">
                                <div class="feature-item"><i class="fas fa-check-circle"></i><span>Smart Room Allocation</span></div>
                                <div class="feature-item"><i class="fas fa-check-circle"></i><span>Real-time Availability</span></div>
                                <div class="feature-item"><i class="fas fa-check-circle"></i><span>Instant Notifications</span></div>
                                <div class="feature-item"><i class="fas fa-check-circle"></i><span>Advanced Dashboard</span></div>
                            </div>
                        </div>
                        <div class="auth-right">
                            <div class="auth-box">
                                <h2>Welcome Back</h2>
                                <p class="auth-subtitle">Sign in to your account</p>
                                <form id="loginForm" class="form" onsubmit="handleLogin(event)">
                                    <div class="form-group">
                                        <label><i class="fas fa-envelope"></i> Email</label>
                                        <input type="email" id="loginEmail" placeholder="student@hostel.com" required>
                                        <small class="hint">Demo: student@hostel.com or admin@hostel.com</small>
                                    </div>
                                    <div class="form-group">
                                        <label><i class="fas fa-lock"></i> Password</label>
                                        <input type="password" id="loginPassword" placeholder="Password" required>
                                        <small class="hint">Demo: student123 or admin123</small>
                                    </div>
                                    <div class="form-group">
                                        <label><i class="fas fa-user-tag"></i> Role</label>
                                        <select id="loginRole" required>
                                            <option value="">Select role</option>
                                            <option value="student">Student</option>
                                            <option value="admin">Administrator</option>
                                        </select>
                                    </div>
                                    <div class="form-check">
                                        <input type="checkbox" id="rememberMe">
                                        <label for="rememberMe">Remember me</label>
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-lg"><i class="fas fa-sign-in-alt"></i> Sign In</button>
                                </form>
                                <div class="auth-divider">or</div>
                                <div class="toggle-form">
                                    <p>Don't have account? <a href="#" onclick="toggleAuthPages(event)">Create one</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Register Page -->
            <div id="registerPage" class="page">
                <div class="auth-container">
                    <div class="auth-wrapper">
                        <div class="auth-left">
                            <div class="brand-section">
                                <div class="brand-icon"><i class="fas fa-building"></i></div>
                                <h1>Elite Hostel</h1>
                                <p>Join Our Community</p>
                            </div>
                            <div class="benefits-list">
                                <div class="benefit-item"><i class="fas fa-star"></i><span>Premium Housing</span></div>
                                <div class="benefit-item"><i class="fas fa-bolt"></i><span>Quick Allocation</span></div>
                                <div class="benefit-item"><i class="fas fa-shield-alt"></i><span>Safe Living</span></div>
                                <div class="benefit-item"><i class="fas fa-users"></i><span>Community</span></div>
                            </div>
                        </div>
                        <div class="auth-right">
                            <div class="auth-box">
                                <h2>Create Account</h2>
                                <p class="auth-subtitle">Register as a student</p>
                                <form id="registerForm" class="form" onsubmit="handleRegister(event)">
                                    <div class="form-group">
                                        <label><i class="fas fa-user"></i> Full Name</label>
                                        <input type="text" id="registerName" placeholder="John Doe" required>
                                    </div>
                                    <div class="form-group">
                                        <label><i class="fas fa-envelope"></i> Email</label>
                                        <input type="email" id="registerEmail" placeholder="your@email.com" required>
                                    </div>
                                    <div class="form-group">
                                        <label><i class="fas fa-id-card"></i> Student ID</label>
                                        <input type="text" id="registerStudentId" placeholder="STU123456" required>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label><i class="fas fa-lock"></i> Password</label>
                                            <input type="password" id="registerPassword" placeholder="Min 6 chars" required>
                                        </div>
                                        <div class="form-group">
                                            <label><i class="fas fa-lock"></i> Confirm</label>
                                            <input type="password" id="registerConfirm" placeholder="Confirm" required>
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-lg"><i class="fas fa-user-plus"></i> Create Account</button>
                                </form>
                                <div class="toggle-form">
                                    <p>Have account? <a href="#" onclick="toggleAuthPages(event)">Sign in</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Student Dashboard -->
        <div id="studentDashboard" class="page">
            <div class="dashboard-wrapper">
                <aside class="sidebar">
                    <div class="sidebar-header">
                        <div class="logo-container"><i class="fas fa-building"></i><span>Elite Hostel</span></div>
                        <button class="menu-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
                    </div>
                    <nav class="sidebar-nav">
                        <a href="#" class="nav-item active" onclick="showStudentSection('dashboard', event)">
                            <i class="fas fa-home"></i><span>Dashboard</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showStudentSection('rooms', event)">
                            <i class="fas fa-door-open"></i><span>Available Rooms</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showStudentSection('allocation', event)">
                            <i class="fas fa-handshake"></i><span>My Allocation</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showStudentSection('profile', event)">
                            <i class="fas fa-user-circle"></i><span>My Profile</span>
                        </a>
                    </nav>
                    <div class="sidebar-footer">
                        <button class="btn btn-outline" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
                    </div>
                </aside>

                <main class="main-content">
                    <div class="topbar">
                        <div class="topbar-left"><h1 id="pageTitle">Dashboard</h1></div>
                        <div class="topbar-right">
                            <div class="notification-bell">
                                <i class="fas fa-bell"></i>
                                <span class="notification-badge" id="notificationCount">0</span>
                            </div>
                            <div class="user-profile">
                                <img src="https://via.placeholder.com/40/4CAF50/fff?text=S" alt="User" class="user-avatar">
                                <div class="user-info">
                                    <p id="studentGreeting" class="user-name">Student</p>
                                    <small>Student</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-area">
                        <!-- Dashboard Section -->
                        <section id="dashboardSection" class="section active">
                            <div class="stats-container">
                                <div class="stat-card">
                                    <div class="stat-icon available"><i class="fas fa-door-open"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Available Rooms</p>
                                        <p class="stat-value" id="studentAvailableRooms">0</p>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon allocated"><i class="fas fa-home"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">My Room</p>
                                        <p class="stat-value" id="studentMyRoom">-</p>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon pending"><i class="fas fa-clock"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Request Status</p>
                                        <p class="stat-value" id="studentRequestStatus">Pending</p>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon occupied"><i class="fas fa-users"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Total Capacity</p>
                                        <p class="stat-value" id="studentTotalCapacity">0</p>
                                    </div>
                                </div>
                            </div>

                            <div class="quick-actions">
                                <button class="action-btn" onclick="showStudentSection('rooms', event)">
                                    <i class="fas fa-search"></i><span>Browse Rooms</span>
                                </button>
                                <button class="action-btn" onclick="showStudentSection('profile', event)">
                                    <i class="fas fa-edit"></i><span>Edit Profile</span>
                                </button>
                                <button class="action-btn" onclick="downloadAllocation()">
                                    <i class="fas fa-download"></i><span>Download</span>
                                </button>
                            </div>
                        </section>

                        <!-- Rooms Section -->
                        <section id="roomsSection" class="section">
                            <div class="section-header">
                                <h2>Available Rooms</h2>
                                <div class="search-bar">
                                    <input type="text" id="roomSearch" placeholder="Search rooms..." onkeyup="filterRooms()">
                                    <i class="fas fa-search"></i>
                                </div>
                            </div>
                            <div id="roomsGrid" class="rooms-grid">
                                <div class="loading"><i class="fas fa-spinner fa-spin"></i> Loading rooms...</div>
                            </div>
                        </section>

                        <!-- Allocation Section -->
                        <section id="allocationSection" class="section">
                            <div class="allocation-card">
                                <div class="allocation-header">
                                    <h2>My Room Allocation</h2>
                                    <span class="status-badge" id="allocationStatus">Not Allocated</span>
                                </div>
                                <div id="allocationDetails" class="allocation-details">
                                    <div class="empty-state">
                                        <i class="fas fa-inbox"></i>
                                        <h3>No Room Allocated Yet</h3>
                                        <p>Browse available rooms and submit a request</p>
                                        <button class="btn btn-primary" onclick="showStudentSection('rooms', event)">
                                            <i class="fas fa-door-open"></i> Browse Rooms
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Profile Section -->
                        <section id="profileSection" class="section">
                            <div class="profile-container">
                                <div class="profile-header">
                                    <img src="https://via.placeholder.com/120/4CAF50/fff?text=PROFILE" alt="Profile" class="profile-avatar">
                                    <div class="profile-info">
                                        <h2 id="profileName">Student Name</h2>
                                        <p id="profileRole">Student</p>
                                    </div>
                                </div>
                                <div class="profile-form">
                                    <h3>Personal Information</h3>
                                    <form id="profileForm" onsubmit="updateStudentProfile(event)">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label><i class="fas fa-user"></i> Full Name</label>
                                                <input type="text" id="profileFullName" required>
                                            </div>
                                            <div class="form-group">
                                                <label><i class="fas fa-envelope"></i> Email</label>
                                                <input type="email" id="profileEmail" readonly>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label><i class="fas fa-phone"></i> Phone</label>
                                                <input type="tel" id="profilePhone" placeholder="+1234567890">
                                            </div>
                                            <div class="form-group">
                                                <label><i class="fas fa-id-card"></i> Student ID</label>
                                                <input type="text" id="profileStudentId" readonly>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Changes</button>
                                    </form>
                                </div>
                            </div>
                        </section>
                    </div>
                </main>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="page">
            <div class="dashboard-wrapper">
                <aside class="sidebar">
                    <div class="sidebar-header">
                        <div class="logo-container"><i class="fas fa-building"></i><span>Admin Panel</span></div>
                        <button class="menu-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
                    </div>
                    <nav class="sidebar-nav">
                        <a href="#" class="nav-item active" onclick="showAdminSection('dashboard', event)">
                            <i class="fas fa-chart-line"></i><span>Dashboard</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showAdminSection('rooms', event)">
                            <i class="fas fa-door-open"></i><span>Rooms</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showAdminSection('students', event)">
                            <i class="fas fa-users"></i><span>Students</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showAdminSection('allocations', event)">
                            <i class="fas fa-handshake"></i><span>Allocations</span>
                        </a>
                        <a href="#" class="nav-item" onclick="showAdminSection('reports', event)">
                            <i class="fas fa-file-alt"></i><span>Reports</span>
                        </a>
                    </nav>
                    <div class="sidebar-footer">
                        <button class="btn btn-outline" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
                    </div>
                </aside>

                <main class="main-content">
                    <div class="topbar">
                        <div class="topbar-left"><h1 id="adminPageTitle">Dashboard</h1></div>
                        <div class="topbar-right">
                            <button class="btn btn-secondary" onclick="exportData()"><i class="fas fa-download"></i> Export</button>
                            <div class="user-profile">
                                <img src="https://via.placeholder.com/40/2196F3/fff?text=A" alt="Admin" class="user-avatar">
                                <div class="user-info">
                                    <p id="adminGreeting" class="user-name">Admin</p>
                                    <small>Administrator</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-area">
                        <!-- Dashboard Section -->
                        <section id="adminDashboardSection" class="section active">
                            <div class="stats-container">
                                <div class="stat-card">
                                    <div class="stat-icon total"><i class="fas fa-users"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Total Students</p>
                                        <p class="stat-value" id="adminTotalStudents">0</p>
                                        <small class="stat-change">â†‘ 12% this month</small>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon rooms"><i class="fas fa-door-open"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Total Rooms</p>
                                        <p class="stat-value" id="adminTotalRooms">0</p>
                                        <small class="stat-change">0 added today</small>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon occupied"><i class="fas fa-check-circle"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Allocated</p>
                                        <p class="stat-value" id="adminAllocatedRooms">0</p>
                                        <small class="stat-change">Occupancy Rate</small>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon available"><i class="fas fa-plus-circle"></i></div>
                                    <div class="stat-content">
                                        <p class="stat-label">Available</p>
                                        <p class="stat-value" id="adminAvailableRooms">0</p>
                                        <small class="stat-change">Ready for allocation</small>
                                    </div>
                                </div>
                            </div>

                            <div class="dashboard-charts">
                                <div class="chart-container">
                                    <h3>Occupancy Status</h3>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="occupancyFill"></div>
                                    </div>
                                    <p class="chart-label" id="occupancyPercent">0% Occupied</p>
                                </div>
                                <div class="chart-container">
                                    <h3>Recent Activity</h3>
                                    <ul id="activityList" class="activity-list">
                                        <li class="activity-item">No recent activity</li>
                                    </ul>
                                </div>
                            </div>
                        </section>

                        <!-- Rooms Section -->
                        <section id="adminRoomsSection" class="section">
                            <div class="section-header">
                                <h2>Room Management</h2>
                                <button class="btn btn-primary" onclick="openCreateRoomModal()">
                                    <i class="fas fa-plus"></i> Create Room
                                </button>
                            </div>
                            <div class="table-container">
                                <table id="adminRoomsTable" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Room #</th><th>Floor</th><th>Capacity</th><th>Occupied</th><th>Available</th><th>Status</th><th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminRoomsTableBody">
                                        <tr><td colspan="7" class="text-center">Loading...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>

                        <!-- Students Section -->
                        <section id="adminStudentsSection" class="section">
                            <div class="section-header">
                                <h2>Students Management</h2>
                                <div class="search-bar">
                                    <input type="text" id="studentSearch" placeholder="Search students..." onkeyup="filterAdminStudents()">
                                    <i class="fas fa-search"></i>
                                </div>
                            </div>
                            <div class="table-container">
                                <table id="adminStudentsTable" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Name</th><th>Email</th><th>Phone</th><th>Student ID</th><th>Room</th><th>Status</th><th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminStudentsTableBody">
                                        <tr><td colspan="7" class="text-center">Loading...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>

                        <!-- Allocations Section -->
                        <section id="adminAllocationsSection" class="section">
                            <div class="section-header">
                                <h2>Room Allocations</h2>
                                <button class="btn btn-primary" onclick="openAllocationModal()">
                                    <i class="fas fa-handshake"></i> New Allocation
                                </button>
                            </div>
                            <div class="table-container">
                                <table id="allocationsTable" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Student</th><th>ID</th><th>Room #</th><th>Floor</th><th>Date</th><th>Status</th><th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="allocationsTableBody">
                                        <tr><td colspan="7" class="text-center">Loading...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>

                        <!-- Reports Section -->
                        <section id="adminReportsSection" class="section">
                            <div class="section-header"><h2>Reports & Analytics</h2></div>
                            <div class="reports-container">
                                <div class="report-card">
                                    <h3><i class="fas fa-chart-bar"></i> Occupancy Report</h3>
                                    <p>View occupancy trends and statistics</p>
                                    <button class="btn btn-secondary" onclick="generateOccupancyReport()">Generate Report</button>
                                </div>
                                <div class="report-card">
                                    <h3><i class="fas fa-users"></i> Student Report</h3>
                                    <p>List of all registered students</p>
                                    <button class="btn btn-secondary" onclick="generateStudentReport()">Generate Report</button>
                                </div>
                                <div class="report-card">
                                    <h3><i class="fas fa-file-invoice"></i> Allocation Report</h3>
                                    <p>Complete allocation history</p>
                                    <button class="btn btn-secondary" onclick="generateAllocationReport()">Generate Report</button>
                                </div>
                                <div class="report-card">
                                    <h3><i class="fas fa-print"></i> Print Records</h3>
                                    <p>Print or export all data</p>
                                    <button class="btn btn-secondary" onclick="printAllRecords()">Print Records</button>
                                </div>
                            </div>
                        </section>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- Alert -->
    <div id="alertBox" class="alert hidden"></div>

    <!-- Modals -->
    <div id="createRoomModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Room</h2>
                <button class="modal-close" onclick="closeModal('createRoomModal')">&times;</button>
            </div>
            <form id="createRoomForm" class="form" onsubmit="handleCreateRoom(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-door-open"></i> Room Number</label>
                        <input type="text" id="modalRoomNumber" placeholder="101" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-layer-group"></i> Floor</label>
                        <input type="number" id="modalRoomFloor" placeholder="1" min="1" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-users"></i> Capacity</label>
                        <input type="number" id="modalRoomCapacity" placeholder="4" min="1" required>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" onclick="closeModal('createRoomModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Room</button>
                </div>
            </form>
        </div>
    </div>

    <div id="allocationModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Allocate Room to Student</h2>
                <button class="modal-close" onclick="closeModal('allocationModal')">&times;</button>
            </div>
            <form id="allocationFormModal" class="form" onsubmit="handleAdminAllocate(event)">
                <div class="form-group">
                    <label><i class="fas fa-user"></i> Select Student</label>
                    <select id="allocationStudent" required>
                        <option value="">Choose a student...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-door-open"></i> Select Room</label>
                    <select id="allocationRoom" required>
                        <option value="">Choose a room...</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" onclick="closeModal('allocationModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Allocate Room</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
